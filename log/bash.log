### ubuntu 20.10 upgrade (221030)
# website_compile sfac-py failed.. 
R> install.packages("stringi", lib="~/lib/r-cran")


### qmd work (221009)
# whats a nice number of cells per ipynb exercise ?
for i in {1..5}; do for j in {1..3}; do for k in {1..3}; do echo "- [$i$j$k.ipynb](../../res/jnb/$i$j$k.ipynb)"; > res/jnb/$i$j$k.ipynb; done; done; echo some; done


### more conda work (221005)
# problem with qt.qpa.plugin and matplotlib in sfac-py env
conda update --all
# try force reinstall packages
conda install --force-reinstall pyqt
conda install --force-reinstall qt
conda install --force-reinstall matplotlib
conda install --force-reinstall opencv-python
# try roll back env revisions
conda list --revisions
conda install --revision 1
conda install --revision 0
# back to init env.. reinstall deps
conda install altair
conda install vega_datasets
# quarto compile works again ! :) ..but conda update --all reproduce the bug :( 
website_compile sfac-py
# some more work.. 
conda create --name some-test --clone base
conda env remove -n some-test
conda create --name some-test
# packages needed to compile sfac-py website
conda install jupyter numpy matplotlib pandas altair vega_datasets tabulate


### anaconda work (220922)
# cv env.. install in jupyter or ipython, not console prompt
!pip install --upgrade pip
!pip install opencv-python
import cv2
print(cv2.version.opencv_version)


### anaconda work (220920)
#
source ~/lib/python/anaconda3/bin/activate
# nlp env
conda update anaconda
conda activate conda-nlp
conda update --all
# nltk.. 
conda install -c anaconda nltk
# beware ~500 Mb
conda install -c conda-forge nltk_data
# alternative methods, only tested on google colab..
#pip install --user -U nltk
#import nltk; nltk.download()
nltk.download('popular')
# install spacy nlp package
conda install -c conda-forge -n base spacy
# get trained pipline, language model, small and large
python -m spacy download en_core_web_sm
python -m spacy download en_core_web_lg


### anaconda work (220909)
# incrementally continue with packages in base env (e.g. pandas, jupyter-lab)
conda create --name sfac-py --clone base
# install dedicated packages to new env
conda install -c conda-forge altair vega_datasets
# powershell, anaconda (220911)
(base) PS C:\Users\nilsh\rnd\cca-cce> Get-History

  Id CommandLine
  -- -----------
   1 python.exe -c "import sys; print(sys.executable);"
   2 python.exe -c "import pandas as pd"
   3 conda env list
   7 mkdir envp
   8 cd .\rnd\cca-cce\
   9 conda create --prefix=C:\Users\nilsh\envp\sfac-py --clone base
  10 conda env list
  11 conda update anaconda
  12 conda update --all
  13 conda env list
  14 conda activate sfac-py
  15 conda info --envs
  16 conda activate C:\Users\nilsh\envp\sfac-py
  17 conda install -c conda-forge altair
  18 conda install -c conda-forge vega_datasets
  25 quarto.cmd render help
  26 quarto.cmd render .\qmd\web\sfac-py\
  27 conda deactivate
  28 conda deactivate
  29 conda activate
  30 conda env list


### sfac-py work (220907)
# render syllabus
quarto render qmd/doc/sfac-py/syllabus.qmd
# render website at https://nils-holmberg.github.io/cca-cce/web/sfac-py/
quarto render qmd/web/sfac-py/
rm -r web/sfac-py && cp -r qmd/web/sfac-py/_site/ web/sfac-py
website_compile sfac-py
# render slides
# render ipynb code
quarto convert qmd/web/sfac-py/inst-221017.qmd --output qmd/web/sfac-py/jnb-221017.ipynb


### migrate google slides (220829)
# download slides as text file
head -n20 tmp/lecture-220830-intro.txt | tr '\n' '|' | tr '[[:space:]]' ' ' | tr '|' '\n' | tr '[[:upper:]]' '[[:lower:]]' | tr -s ' ' | sed -E -e 's/^([a-z])/- \1/g' > tmp/some
# download slides as pdf file
convert -density 150 lecture-220504-info.pdf slide-%03d.png
mogrify -crop 950x844+550+0 +repage slide-*.png


### init project (220816)
# dirs and git
bash ~/dev/bash/src/project-get.sh dev/cca-cce
cd dev/cca-cce/
bash ~/dev/bash/src/github-init.sh "computational content analysis, cognitive communication effects"
bash ~/dev/bash/src/github-push.sh "computational content analysis, cognitive communication effects"
# quarto website
quarto create-project web --type website
quarto preview web
quarto render web
bash ~/dev/bash/src/github-push.sh "computational content analysis, cognitive communication effects"
> web/_site/.nojekyll
# quarto book
quarto create-project src/qmd --type book
quarto preview src/qmd/
quarto render src/qmd/ --to all
# quarto slides
quarto render edu/scom-komb26/index.qmd
# quarto document

# quarto themes
for t in default cerulean cosmo cyborg darkly flatly journal litera lumen lux materia minty morph pulse quartz sandstone simplex sketchy slate solar spacelab superhero united vapor yeti zephyr; do echo $t; done









